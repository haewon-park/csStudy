## 1. 정적(static) 페이지와 동적(dynamic) 페이지
![](https://images.velog.io/images/yanghl98/post/91a2d40a-2cb3-4c5c-8824-6ba185de68bb/image.png)
### 정적(static) 페이지
> 바뀌지 않는 페이지

- 웹 서버에 이미 저장된 html 문서를 클라이언트에게 전송하는 웹 페이지
- 사용자는 서버에 저장된 데이터가 변경되지 않는 한 **고정된 웹 페이지**를 보게 됨
- 모든 사용자는 같은 결과의 웹 페이지를 서버에 요청하고 응답 받음.
- `Ex` 홈페이지에 회사소개, 음식메뉴, 포트폴리오 등 내용이 변하지 않고 고정적인 페이지
  + image, html, css, javascript 파일과 같이 컴퓨터에 저장된 파일들

<br>

- `장점`
  + 요청에 대한 파일만 전송하면 되기 때문에 서버간 통신이 거의 없고 속도가 빠름
  + 단순한 문서들로만 이루어져 있어 구축 비용이 적음
- `단점`
  + 저장된 정보만 보여주기 때문에 서비스가 한정적
  
<br>

### 동적(dynamic) 페이지
> 인자에 따라 바뀌는 페이지

- 인자(parameter)의 내용에 맞게 **동적인 contents를 반환**함
- **요청 정보를 처리한 후에 제작된 HTML 문서**를 클라이언트에게 전송하는 웹 페이지
- 웹 서버에 의해 실행되는 프로그램을 통해 만들어진 결과물임 (Servlet : was 위에서 돌아가는 자바 프로그램)
- 사용자는 상황, 시간, 요청 등에 따라 달라지는 웹 페이지를 보게 됨
- `Ex` 네이버 블로그, 티스토리, 홈페이지 게시판 등

<br>

- `장점`
  + 다양한 정보를 조합하여 웹 페이지를 제공 하기 때문에 서비스가 다양함
- `단점`
  + 웹 페이지를 전달하기 전에 처리하는 작업이 필요하기 때문에 상대적으로 느림
  
<br><br>

## 2. Web Server
### 정의
하드웨어 개념과 소프트웨어 개념으로 나뉜다.

>- `하드웨어` : Web 서버가 설치되어 있는 **컴퓨터**
>- `소프트웨어` : 웹 브라우저 클라이언트로부터 HTTP 요청을 받고, 정적인 컨텐츠(html, css 등)를 제공하는 컴퓨터 **프로그램**

<br>

### 웹 서버의 기능
HTTP 프로토콜을 기반으로, 클라이언트의 요청을 서비스하는 기능을 담당함

1. **정적 컨텐츠 제공** 
    - WAS를 거치지 않고 바로 자원 제공


2. **동적 컨텐츠 제공을 위한 요청(request) 전달**
   - 클라이언트 요청을 WAS에 보내고, WAS에서 처리한 결과를 클라이언트에게 전달
   
### 웹 서버 종류 
`Apache`, `Nginx`, `IIS` 등

<br><br>

## 3. WAS (Web Application Server)
### 정의
> 웹 애플리케이션 과 서버 환경을 만들어 동작시키는 기능을 제공하는 소프트웨어 프레임워크 

![](https://images.velog.io/images/yanghl98/post/153dfaa1-d032-4f15-9d4c-7a06b374aeb9/image.png)

- DB 조회나, 어떤 로직을 처리해야 하는 **동적인 컨텐츠를 제공**
- HTTP를 통해 애플리케이션을 수행해주는 미들웨어
- JSP, Servlet 구동 환경을 제공해주기 때문에 `웹 컨테이너` 혹은 `서블릿 컨테이너`라고도 불림

<br>

### 역할

**WAS = 웹 서버 + 웹 컨테이너**

- 웹 서버의 기능들을 구조적으로 분리하여 처리하는 역할
- 보안, 스레드 처리, 분산 트랜잭션 등 분산 환경에서 사용됨 (주로 DB 서버와 함께 사용)

<br>

### 주요 기능

1. 프로그램 실행 환경 및 DB 접속 기능 제공
2. 여러 트랜잭션 관리 기능
3. 업무 처리하는 비즈니스 로직 수행

<br>

### WAS의 종류
`Tomcat`, `JBoss` 등

<br><br>


## 4. 웹 서버 vs WAS

![](https://images.velog.io/images/yanghl98/post/d9261433-2ce7-4453-a6f1-a93e88538589/image.png)

- 웹 서버와 WAS는 각각 독립적으로 존재할 수 있다.
- 대부분의 WAS는 정적인 컨텐츠를 제공해주고 있기 때문에, 웹 서버 없이 WAS만 존재할 수 있다. 그래서 WAS는 웹 서버를 포함하는 개념이라고 생각할 수도 있다.

<br>


### ❓ 웹 서버가 필요한 이유

1. **WAS의 부담을 줄이기 위해**
웹 서버에서는 정적 컨텐츠만 처리하도록 기능 분배를 해서 WAS가 해야 할 일의 부담을 줄인다.

![](https://images.velog.io/images/yanghl98/post/dd33ceee-b87c-488a-8817-06152e37f373/image.png)

2. **보안**
WAS의 환경설정 파일을 외부에 노출시키지 않도록 하기 위해

클라이언트와 연결하는 포트가 직접 WAS에 연결이 되어 있다면 중요한 설정 파일들이 노출될 수 있기 때문에, WAS 설정 파일을 외부에 노출시키지 않도록 하기 위해서 웹 서버를 앞단에 배치시킨다.

웹 서버와 WAS에 접근하는 포트가 다르기 때문에, WAS에 들어오는 포트에는 방화벽을 쳐서 보안을 강화할 수도 있다.

<br>

### ❓ WAS가 필요한 이유
1. **자원의 효율적 사용**

Web Server만을 이용한다면 사용자가 원하는 요청에 대한 결과값을 모두 미리 만들어 놓고 서비스를 해야 하는데, 이렇게 수행하기에는 자원이 절대적으로 부족하다.

따라서 WAS를 통해 요청에 맞는 데이터를 DB에서 가져와서 비즈니스 로직에 맞게 동적으로 결과를 만들어서 제공하면 자원을 효율적으로 사용할 수 있다.

<br>

### ❓ 그러면 WAS만 쓰면 되는건가요?

WAS는 DB 조회, 다양한 로직을 처리하는 데 집중해야 한다. 따라서 단순한 정적 컨텐츠는 웹 서버에게 맡기고 기능을 분리시켜 서버 부하를 방지하는 것이 좋다.

만약 WAS가 정적 컨텐츠 요청까지 처리하면, 부하가 커지고 동적 컨텐츠 처리가 지연되면서 수행 속도가 느려져 페이지 노출 시간 늘어나는 문제가 발행한다.

=> 웹 서버와 WAS를 동시에 사용하는 것이 좋다! 웹 서버를 WAS 앞에 두고, 필요한 WAS들을 웹 서버에 플러그인 형태로 설정하면 효율적인 분산 처리가 가능하다.

↓ `가장 효율적인 구조` <br>
![](https://images.velog.io/images/yanghl98/post/1cc2b3c4-bac4-4259-97d0-43e4fd43ac7e/image.png)


<br><br>

## 출처
https://blog.naver.com/insaweb/221650456057 (static/dynamic page) <br>
https://github.com/gyoogle/tech-interview-for-developer/blob/master/Web/Web%20Server%EC%99%80%20WAS%EC%9D%98%20%EC%B0%A8%EC%9D%B4.md <br>
https://codechasseur.tistory.com/25 <br>
https://victorydntmd.tistory.com/121 <br>
https://doitnow-man.tistory.com/109 (웹서버 vs WAS 이미지) <br>
